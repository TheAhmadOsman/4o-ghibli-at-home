# .env configuration file for the FastAPI Image Generation App
#
# Copy this file to .env in the root directory and modify the values as needed.
# Lines starting with # are comments. Do not use quotes around values.

# --- Redis for ARQ Task Queue ---
# Connection details for the Redis server used by ARQ.
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# --- Task Queue Settings ---
# Maximum number of jobs the ARQ worker will process concurrently.
# This should be tuned based on your available VRAM.
# Default: 2
MAX_CONCURRENT_JOBS=2

# Maximum time in seconds a single job can run before it's considered timed out.
# Default: 600 (10 minutes)
JOB_TIMEOUT=600

# --- Job & File Management ---
# The name of the folder where generated images will be saved.
# This folder will be created if it doesn't exist.
# Default: "generated_images"
RESULTS_FOLDER=generated_images

# How long to keep job results (generated images) on disk.
# This is now handled by the ARQ worker, not a separate cleanup thread.
# Value is in seconds.
# Default: 900 (15 minutes)
JOB_RESULT_TTL=900

# --- Upload & Validation Settings ---
# Maximum allowed size for uploaded image files in megabytes (MB).
# Default: 10
MAX_UPLOAD_MB=10

# --- Model & Hardware Settings ---
# The PyTorch device to use for model inference.
# The script will auto-detect CUDA if available. This is not typically needed
# as the code handles detection, but can be used for overrides.
# Options: "cuda", "cpu"
# PYTORCH_DEVICE=cuda
